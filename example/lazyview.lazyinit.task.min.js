!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LazyInitTask=e():t.LazyInitTask=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=o(u),l=n(2),f=o(l),c=n(1),p=o(c),h=function(t){function e(n,o){return r(this,e),o=(0,p.default)({},e.defaultProps,o),i(this,t.call(this,n,o))}return s(e,t),e}(f.default);h.defaultProps={once:!0,name:"lazyinit"},t.exports=function(t){return new a.default(h,t)}},function(t,e){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==o.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(t,e){for(var o,u,a=n(t),l=1;l<arguments.length;l++){o=Object(arguments[l]);for(var f in o)i.call(o,f)&&(a[f]=o[f]);if(r){u=r(o);for(var c=0;c<u.length;c++)s.call(o,u[c])&&(a[u[c]]=o[u[c]])}}return a}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(1),s=o(i),u=function(){function t(e,n){r(this,t),this.lazyView=e,this.name=name,this.props=(0,s.default)({},t.defaultProps,n),this.onEnter=this.onEnter.bind(this),this.onExit=this.onExit.bind(this),this.init()}return t.prototype.destroy=function(){this.lazyView.removeOffset(this.name),this.props=null,this.onEnter=null,this.onExit=null,this.lazyView=null},t.prototype.init=function(){this.lazyView.one("enter",this.onEnter),this.lazyView.one("exit",this.onExit)},t.prototype.onStop=function(t){return Promise.resolve(t)},t.prototype.onStart=function(t){return Promise.resolve(this.lazyView)},t.prototype.onComplete=function(t){return Promise.resolve(this.lazyView)},t.prototype.onAfterComplete=function(t){return this.lazyView.checkBounds(),Promise.resolve(this.lazyView)},t.prototype.onEnter=function(){var t=this,e=this.onStart(this.lazyView).then(function(e){if(t.props&&t.props.onStart){var n=t.props.onStart.call(t,t.lazyView);if(n.then)return n}return e}).then(function(e){return t.onComplete(e)}).then(function(e){return t.onAfterComplete(e)}).then(function(e){if(t.props&&t.props.onComplete){var n=t.props.onComplete.call(t,t.lazyView);if(n.then)return n}return e});return e},t.prototype.onExit=function(){var t=this,e=this.lazyView,n=this.onStop(e).then(function(n){if(t.props&&t.props.onStop){var o=t.props.onStop.call(t,e);if(o.then)return o}return n});return n},t}();u.defaultProps={name:"lazytask",once:!1,startClass:null,completeClass:null,onStart:null,onStop:null,onComplete:null,onEnter:null,onExit:null},e.default=u,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function t(e,o){n(this,t),this.creator=function(t){return new e(t,o)}};e.default=o,t.exports=e.default}])});