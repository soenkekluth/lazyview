/*!
 * lazyview 0.2.0 - Initialize a View Component related to a dom element when it enters the viewport. Or Lazyload images for example
 * Copyright (c) 2016 SÃ¶nke Kluth <soenke.kluth@gmail.com> (http://soenkekluth.com/) - https://github.com/soenkekluth/lazyview#readme
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LazyView=e():t.LazyView=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(2),a=n(c),h=i(6),u=n(h),d=i(4),f=n(d),p=i(1),g=n(p),_=i(3),y=n(_),m=i(5),v=n(m),w=function(t){return"[object Object]"==Object.prototype.toString.call(t)},S=function(t){return"[object Array]"===Object.prototype.toString.call(t)},E=function(t){return t&&t.hasOwnProperty("creator")},O={enterClass:"",exitClass:"",threshold:0},T=function(t,e){var i=t.getBoundingClientRect(),n=e||i.height,r=i.top+u["default"].windowScrollY+n;return{top:r,bottom:i.bottom+u["default"].windowScrollY-n,height:n,width:i.width,left:i.left,right:i.right}},b=function(t){function e(){r(this,e);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];if(i.length<1)throw"non initialization object";var s;i[0]instanceof window.NodeList&&(s=[].slice.call(i[0],1),i[0]=i[0][0]);var l=void 0!==i[0].tagName?i[0]:null,c={},a=[];2===i.length?"undefined"!=typeof i[1]&&(E(i[1])?a.push(i[1]):S(i[1])?a.concat(i[1]):w(i[1])&&(c=i[1])):3===i.length&&("undefined"!=typeof i[1]&&(E(i[1])?a.push(i[1]):S(i[1])?a=a.concat(i[1]):w(i[1])&&(c=i[1])),"undefined"!=typeof i[2]&&(E(i[2])?a.push(i[2]):S(i[2])?a=a.concat(i[2]):w(i[2])&&(c=i[2])));var h=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{target:l}));if(h.el=l,h.plugins=a,h.options=(0,v["default"])({},O,c),h.setState({inView:!1},!0),h.onScroll=(0,g["default"])(h,h.checkInView),h.onResize=(0,g["default"])(h,h.update),(0,f["default"])(function(){return h.init()}),s&&s.length){var u,d=e.apply(s,c,a);return d.push(h),u=d,o(h,u)}return h}return s(e,t),l(e,null,[{key:"apply",value:function(t,i,n){if(t&&t.length){for(var r=new L,o=0;o<t.length;o++)r.push(new e(t[o],i,n));return r}return new e(t,i,n)}},{key:"plugin",value:function(t){return new y["default"](t)}}]),l(e,[{key:"init",value:function(){var t=u["default"].getScrollParent(this.el);this.scroll=u["default"].getInstance(t),this.scroll.on("scroll:start",this.onScroll),this.scroll.on("scroll:progress",this.onScroll),this.scroll.on("scroll:stop",this.onScroll),this.scroll.on("scroll:resize",this.onResize),window.addEventListener("resize",this.onResize,!1),window.addEventListener("orientationchange",this.onResize,!1),this.cachePosition();for(var e=-1;++e<this.plugins.length;)this.plugins[e].creator(this);this.checkInView()}},{key:"render",value:function(){this.options.enterClass&&(this.state.inView?this.el.classList.add(this.options.enterClass):this.el.classList.remove(this.options.enterClass))}},{key:"update",value:function(){this.scroll.updateScrollPosition(),this.cachePosition(),this.checkInView()}},{key:"checkInView",value:function(){var t=this.scroll.y;t<=this.position.top-this.options.threshold&&t+this.clientHeight>=this.position.bottom+this.options.threshold?this.state.inView||(this.setState({inView:!0},!this.options.enterClass),this.dispatch(e.ENTER)):this.state.inView&&(this.setState({inView:!1},!this.options.enterClass),this.dispatch(e.EXIT))}},{key:"cachePosition",value:function(){this.clientHeight=this.scroll.clientHeight,this.scrollHeight=this.scroll.scrollHeight,this.position=T(this.el)}},{key:"setState",value:function(t,e){this.state=t,e!==!0&&this.render()}},{key:"destroy",value:function(){this.scroll.off("scroll:start",this.onScroll),this.scroll.off("scroll:progress",this.onScroll),this.scroll.off("scroll:stop",this.onScroll),this.scroll.off("scroll:update",this.onResize),this.scroll.hasListeners()||(this.scroll.destroy(),this.scroll=null),"undefined"!=typeof window&&(window.removeEventListener("resize",this.onResize),window.removeEventListener("orientationchange",this.onResize)),this.onScroll=null,this.onResize=null,this.clientHeight=null,this.scrollHeight=null,this.position=null,this.options=null,this.el=null}}]),e}(a["default"]);b.ENTER="enter",b.EXIT="exit",e["default"]=b;var L=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.items=[],t}return s(e,t),l(e,[{key:"push",value:function(t){this.items.push(t)}},{key:"addListener",value:function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].addListener(t,e);return this}},{key:"removeListener",value:function(t,e){for(var i=-1;++i<this.items.length;)this.items[i].removeListener(t,e);return this}}]),e}(a["default"]);t.exports=e["default"]},function(t,e){var i=function(t,e){var i=arguments.length<=2?[]:[].slice.call(arguments,2);return function(){return e.apply(t,arguments.length?i.slice().concat([].slice.call(arguments)):i)}};t.exports=i},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.target,r=e.currentTarget;i(this,t),this._eventMap={},this._destroyed=!1,this._target=n||this,this._currentTarget=r||this,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emit=this.trigger=this.dispatchEvent=this.dispatch}return t.prototype.addListener=function(t,e){var i=this.getListener(t);return i?i.indexOf(e)===-1&&i.push(e):this._eventMap[t]=[e],this},t.prototype.addListenerOnce=function(t,e){var i=this,n=function(r){e(r),i.off(t,n),e=null,n=null};return this.on(t,n)},t.prototype.removeListener=function(t,e){if(!e)return this.removeAllListener(t);var i=this.getListener(t);if(i){var n=i.indexOf(e);n>-1&&(i=i.splice(n,1),i.length||delete this._eventMap[t])}return this},t.prototype.removeAllListener=function(t){var e=this.getListener(t);return e&&(this._eventMap[t].length=0,delete this._eventMap[t]),this},t.prototype.hasListener=function(t){return null!==this.getListener(t)},t.prototype.hasListeners=function(){return null!==this._eventMap&&void 0!==this._eventMap&&!n(this._eventMap)},t.prototype.dispatch=function(t,e){var i=this.getListener(t);if(i){e=e||{},e.type=t,e.target=e.target||this._target,e.currentTarget=e.currentTarget||this._currentTarget;for(var n=-1;++n<i.length;)i[n](e)}return this},t.prototype.getListener=function(t){var e=this._eventMap?this._eventMap[t]:null;return e||null},t.prototype.destroy=function(){if(this._eventMap){for(var t in this._eventMap)this.removeAllListener(t);this._eventMap=null}return this._destroyed=!0,this},t}();e["default"]=r,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function r(t){i(this,r),this.creator=t};e["default"]=n,t.exports=e["default"]},function(t,e,i){/*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
!function(e,i){t.exports=i()}("domready",function(){var t,e=[],i=document,n=i.documentElement.doScroll,r="DOMContentLoaded",o=(n?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);return o||i.addEventListener(r,t=function(){for(i.removeEventListener(r,t),o=1;t=e.shift();)t()}),function(t){o?setTimeout(t,0):e.push(t)}})},function(t,e){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t,e){for(var n,s,l=i(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var a in n)r.call(n,a)&&(l[a]=n[a]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function y(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:y(r,e,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),h=n(a),u=i(2),d=n(u),f=i(7),p=n(f),g=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?window:arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(r(this,e),e.hasScrollTarget(t)){var n;return n=e.getInstance(t),o(s,n)}var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{target:t}));return t.scrollEvents=s,s._scrollTarget=t,s.options=i,_.animationFrame&&e.unprefixAnimationFrame(),s.init(),s}return s(e,t),c(e,null,[{key:"getInstance",value:function(t,i){return t.scrollEvents?t.scrollEvents:new e(t,i)}},{key:"hasInstance",value:function(t){return"undefined"!=typeof t.scrollEvents}},{key:"getScrollParent",value:function(t){return(0,p["default"])(t)}},{key:"unprefixAnimationFrame",value:function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame)}},{key:"directionToString",value:function(t){switch(t){case e.UP:return"up";case e.DOWN:return"down";case e.NONE:return"none";case e.LEFT:return"left";case e.RIGHT:return"right"}}},{key:"windowScrollY",get:function(){return window.pageYOffset||window.scrollY||0}},{key:"windowScrollX",get:function(){return window.pageXOffset||window.scrollX||0}},{key:"documentHeight",get:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}},{key:"documentWidth",get:function(){return Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}}]),c(e,[{key:"init",value:function(){if(this._destroyed=!1,this._scrollY=0,this._scrollX=0,this._speedY=0,this._speedX=0,this._lastSpeed=0,this._lastDirectionY=e.NONE,this._lastDirectionX=e.NONE,this._stopFrames=3,this._currentStopFrames=0,this._firstRender=!0,this._directionY=e.NONE,this._directionX=e.NONE,this._scrolling=!1,this._canScrollY=!1,this._canScrollX=!1,this.getScrollPosition=this._scrollTarget===window?(0,h["default"])(this,this._getWindowScrollPosition):(0,h["default"])(this,this._getElementScrollPosition),this.onScroll=(0,h["default"])(this,this.onScroll),this.onResize=(0,h["default"])(this,this.onResize),this.onNextFrame=(0,h["default"])(this,this.onNextFrame),this.updateScrollPosition(),this._canScrollY=this.clientHeight<this.scrollHeight,this._canScrollX=this.clientWidth<this.scrollWidth,this._scrollTarget!==window){var t=window.getComputedStyle(this._scrollTarget);this._canScrollY="hidden"!==t["overflow-y"],this._canScrollX="hidden"!==t["overflow-x"]}this._scrollTarget.addEventListener?(this._scrollTarget.addEventListener("scroll",this.onScroll,!1),this._scrollTarget.addEventListener("resize",this.onResize,!1)):this._scrollTarget.attachEvent&&(this._scrollTarget.attachEvent("scroll",this.onScroll),this._scrollTarget.attachEvent("resize",this.onResize))}},{key:"update",value:function(){var t=this._scrollY,i=this._scrollX;this.updateScrollPosition(),t===this.y&&i===this.x||this.trigger(e.EVENT_SCROLL_PROGRESS)}},{key:"destroy",value:function(){this._destroyed||(this._cancelNextFrame(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this._scrollTarget.addEventListener?(this._scrollTarget.removeEventListener("scroll",this.onScroll),this._scrollTarget.removeEventListener("resize",this.onResize)):this._scrollTarget.attachEvent&&(this._scrollTarget.detachEvent("scroll",this.onScroll),this._scrollTarget.detachEvent("resize",this.onResize)),this.onResize=null,this.onScroll=null,this.getScrollPosition=null,this.onNextFrame=null,this._scrollTarget=null,this._destroyed=!0)}},{key:"updateScrollPosition",value:function(){this._scrollY=this.scrollY,this._scrollX=this.scrollX}},{key:"_getWindowScrollPosition",value:function(){return{y:e.windowScrollY,x:e.windowScrollX}}},{key:"_getElementScrollPosition",value:function(){return{y:this._scrollTarget.scrollTop,x:this._scrollTarget.scrollLeft}}},{key:"onResize",value:function(){this.trigger(e.EVENT_SCROLL_RESIZE)}},{key:"onScroll",value:function(){return this._currentStopFrames=0,this._firstRender&&(this._firstRender=!1,this.y>1||this.x>1)?(this.updateScrollPosition(),void this.trigger(e.EVENT_SCROLL_PROGRESS)):void(this._scrolling||(this._scrolling=!0,this._lastDirectionY=e.NONE,this._lastDirectionX=e.NONE,this.trigger(e.EVENT_SCROLL_START),_.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this.onNextFrame()))}},{key:"onNextFrame",value:function(){var t=this;this._speedY=this._scrollY-this.scrollY,this._speedX=this._scrollX-this.scrollX;var i=+this.speedY+ +this.speedX;return this._scrolling&&0===i&&this._currentStopFrames++>this._stopFrames?void this.onScrollStop():(this.updateScrollPosition(),this._lastDirectionY!==this.directionY&&this.trigger("scroll:"+e.directionToString(this.directionY)),this._lastDirectionX!==this.directionX&&this.trigger("scroll:"+e.directionToString(this.directionX)),this._lastDirectionY=this.directionY,this._lastDirectionX=this.directionX,this.trigger(e.EVENT_SCROLL_PROGRESS),void(_.animationFrame?this.nextFrameID=window.requestAnimationFrame(this.onNextFrame):this._nextTimeout=setTimeout(function(){t.onNextFrame()},1e3/60)))}},{key:"onScrollStop",value:function(){this._scrolling=!1,this.updateScrollPosition(),this.trigger(e.EVENT_SCROLL_STOP),this._canScrollY&&(this.y<=0?this.trigger(e.EVENT_SCROLL_MIN):this.y+this.clientHeight>=this.scrollHeight&&this.trigger(e.EVENT_SCROLL_MAX)),this._canScrollX&&(this.x<=0?this.trigger(e.EVENT_SCROLL_MIN):this.x+this.clientWidth>=this.scrollWidth&&this.trigger(e.EVENT_SCROLL_MAX)),this._currentStopFrames=0,this._cancelNextFrame()}},{key:"_cancelNextFrame",value:function(){_.animationFrame?(window.cancelAnimationFrame(this.nextFrameID),this.nextFrameID=-1):clearTimeout(this._nextTimeout)}},{key:"destroyed",get:function(){return this._destroyed}},{key:"scrollPosition",get:function(){return this.getScrollPosition()}},{key:"directionY",get:function(){return!this._canScrollY||0===this.speedY&&!this._scrolling?this._directionY=e.NONE:this.speedY>0?this._directionY=e.UP:this.speedY<0&&(this._directionY=e.DOWN),this._directionY}},{key:"directionX",get:function(){return!this._canScrollX||0===this.speedX&&!this._scrolling?this._directionX=e.NONE:this.speedX>0?this._directionX=e.LEFT:this.speedX<0&&(this._directionX=e.RIGHT),this._directionX}},{key:"attributes",get:function(){return{y:this.y,x:this.x,speedY:this.speedY,speedX:this.speedX,directionY:this.directionY,directionX:this.directionX}}},{key:"scrollTarget",get:function(){return this._scrollTarget}},{key:"delta",get:function(){return this.directionY}},{key:"scrolling",get:function(){return this._scrolling}},{key:"speedY",get:function(){return this._speedY}},{key:"speedX",get:function(){return this._speedX}},{key:"scrollY",get:function(){return this.scrollPosition.y}},{key:"y",get:function(){return this.scrollY}},{key:"scrollX",get:function(){return this.scrollPosition.x}},{key:"x",get:function(){return this.scrollX}},{key:"clientHeight",get:function(){return this._scrollTarget===window?window.innerHeight:this._scrollTarget.clientHeight}},{key:"clientWidth",get:function(){return this._scrollTarget===window?window.innerWidth:this._scrollTarget.clientWidth}},{key:"scrollHeight",get:function(){return this._scrollTarget===window?e.documentHeight:this._scrollTarget.scrollHeight}},{key:"scrollWidth",get:function(){return this._scrollTarget===window?e.documentWidth:this._scrollTarget.scrollWidth}}]),e}(d["default"]);g.hasScrollTarget=g.hasInstance,g.UP=-1,g.DOWN=1,g.NONE=0,g.RIGHT=2,g.LEFT=-2,g.EVENT_SCROLL_PROGRESS="scroll:progress",g.EVENT_SCROLL_START="scroll:start",g.EVENT_SCROLL_STOP="scroll:stop",g.EVENT_SCROLL_DOWN="scroll:down",g.EVENT_SCROLL_UP="scroll:up",g.EVENT_SCROLL_MIN="scroll:min",g.EVENT_SCROLL_MAX="scroll:max",g.EVENT_SCROLL_RESIZE="scroll:resize",e["default"]=g;var _=function(){function t(){r(this,t)}return c(t,null,[{key:"animationFrame",get:function(){return!!(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)}}]),t}();t.exports=e["default"]},function(t,e){"use strict";var i=/(auto|scroll)/,n=function(t){if(!(t instanceof HTMLElement))return window;for(;t.parentNode;){if(t.parentNode===document.body)return window;var e=window.getComputedStyle(t.parentNode,null);if(i.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x")))return t.parentNode;t=t.parentNode}return window};t.exports=n}])});